üìÑ ENVIRONMENT SETUP GUIDE (for .env file)
==========================================

‚öôÔ∏è Purpose
-----------
This guide explains how to correctly fill and use all environment variables required for the backend.  
Every variable here controls an important service (authentication, email, database, cloud storage, etc.).  

After filling your values, rename `.env.example` ‚Üí `.env.production`.

üåç NODE ENVIRONMENT & SERVER
-----------------------------
NODE_ENV=PRODUCTION
PORT=8000
CLIENT_URL=https://your-frontend-url.com
CALLBACK_URL=https://your-backend-url.com

- NODE_ENV ‚Üí Always set to PRODUCTION for live servers, DEVELOPMENT for local testing.  
  Used by Express and build tools to toggle optimizations.  
- PORT ‚Üí The port your server listens on (default 8000).  
  - Local run: http://localhost:8000  
  - In Render/Vercel deployment, platform automatically injects port.

üìß EMAIL (for Nodemailer)
--------------------------
EMAIL=your-email@example.com
PASSWORD=your-email-password

- Used by Nodemailer to send OTPs, password reset links, or notifications.  
- Works with Gmail, Yahoo, Outlook, etc.  
- If using Gmail:
  1. Enable 2-Step Verification.
  2. Generate an App Password ‚Üí use it as PASSWORD.  
- If using Yahoo/Outlook, also use app-specific passwords or SMTP credentials.  
- These credentials are used in your email service like:
  nodemailer.createTransport({
    service: 'gmail',
    auth: { user: process.env.EMAIL, pass: process.env.PASSWORD }
  });

üîë JWT (JSON Web Token)
------------------------
JWT_SECRET=your-secure-jwt-secret
JWT_TOKEN_EXPIRATION_DAYS=30

- JWT_SECRET ‚Üí A long random string for signing login tokens.  
  Example: use `openssl rand -base64 32` to generate.  
- JWT_TOKEN_EXPIRATION_DAYS ‚Üí Duration before token expires (in days).  
- Used in backend files like:
  jwt.sign(payload, process.env.JWT_SECRET, { expiresIn: `${process.env.JWT_TOKEN_EXPIRATION_DAYS}d` });

üîê OTP & PASSWORD RESET
------------------------
OTP_EXPIRATION_MINUTES=5
PASSWORD_RESET_TOKEN_EXPIRATION_MINUTES=5

- Controls how long OTPs or password reset tokens stay valid.  
- Used by backend auth logic to expire verification codes automatically.

‚òÅÔ∏è CLOUDINARY CONFIGURATION
----------------------------
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

- Used to upload & store images (like profile pictures).  
- Steps to get:
  1. Go to https://cloudinary.com/console
  2. Create a free account.
  3. Copy ‚ÄúCloud name‚Äù, ‚ÄúAPI key‚Äù, and ‚ÄúAPI secret‚Äù.
- Example usage:
  cloudinary.config({
    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,
    api_key: process.env.CLOUDINARY_API_KEY,
    api_secret: process.env.CLOUDINARY_API_SECRET,
  });

üîë GOOGLE OAUTH (for Login with Google)
----------------------------------------
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

- Needed to enable ‚ÄúLogin with Google‚Äù.  
- Get credentials from Google Cloud Console:
  1. Choose ‚ÄúOAuth 2.0 Client ID‚Äù
  2. Set Authorised Javascript Origins ‚Üí `https://your-frontend-url`
  3. Set redirect URI ‚Üí `https://your-domain.com/api/v1/auth/google/callback`
  4. Also add this to redirect URI ‚Üí `https://your-frontend-url/auth/oauth-redirect`
  5. Copy the client ID and secret here.

üî• GOOGLE APPLICATION CREDENTIALS (Firebase Admin)
---------------------------------------------------
GOOGLE_APPLICATION_CREDENTIALS=src/firebase-admin-cred.json

- Path to your Firebase Admin SDK key file.
- Download it from:
  Firebase Console ‚Üí Project Settings ‚Üí Service Accounts ‚Üí Generate new private key.
- Place the JSON file in src/firebase-admin-cred.json.
- Used for verifying Firebase tokens or sending FCM notifications.

üîè PRIVATE KEY RECOVERY SECRET
-------------------------------
PRIVATE_KEY_RECOVERY_SECRET=your-secure-private-key-recovery-secret

- Used internally for encrypting/decrypting recovery tokens for private key recovery system.  
- Keep it unique and secure. Example: a random 64-character string.

üóÑÔ∏è DATABASE CONFIGURATION (Supabase / PostgreSQL)
--------------------------------------------------
DATABASE_URL=your-database-url
DIRECT_URL=your-direct-database-url

- DATABASE_URL ‚Üí Used by the backend to connect to Supabase via connection pooling (faster).  
  Example format:
    postgresql://postgres.user:passwd@host.pooler.supabase.com:6543/postgres?pgbouncer=true
- DIRECT_URL ‚Üí Direct DB connection for migrations or Prisma Studio.  
  Example:
    postgresql://postgres.user:passwd@host.pooler.supabase.com:5432/postgres
- Set both in Supabase ‚Üí Project Settings ‚Üí Database ‚Üí Connection Info.

‚úÖ FINAL CHECKLIST
-------------------
1. Copy `.env.example` ‚Üí `.env.production`
2. Fill all values correctly.
3. Keep `.env` secure (never commit to GitHub).
4. Restart server after every `.env` change.
5. Verify using:
   echo $JWT_SECRET
   echo $DATABASE_URL
6. Ensure all services (Email, DB, Cloudinary, Google, Firebase) are active.

üß© Testing Environment Variables
--------------------------------
You can test if variables are loaded by adding:
  console.log(process.env.NODE_ENV);
  console.log(process.env.DATABASE_URL);

If they print correctly, `.env` is working.
